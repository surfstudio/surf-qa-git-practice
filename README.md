# {nyrkov}-swagger

## Правила работы со спецификацией:

* Схемы моделей лежат отдельно от описания эндпоинтов.
* Каждому REST ресурсу отдельный файл.
* Если ресурсы вложены, то все вложенные ресурсы описываются в файле высокоуровнего ресурса.
* Общие/переисопльзуемые элементы можно складывать в папку common.
* Для всех моделей явно указывать Nullable поля.
* Спецификация должна проходить валидацию, потому что есть люди, которые смотрят на нее через UI.
* Пишите нормальные, понятные комментарии. Если комментарий для свойства *name* у модели *User* имеет комментарий *Имя пользователя*, то лучше его не писать.
* Пишите комментарии на русском.

> Мы должны относиться к спецификации так же, как и к коду, потому что для нас всех это единственный источник истины. Давайте содержать его в порядке!

## Генерация API-файлов

У каждого файла есть дефолтная шапка. Чтобы создать автоматически файл с такой шапкой - необходимо выполнить ряд условий (рассмотрим на примере создания файлов для сервиса `catalog`):

1. Открываем консоль, перемещаемся в корень репозитория
2. Вводим в консоль
    ````
    ./gen.sh ./catalog
    ````
3. Всё

Таким образом, будут созданы два файла в папке `catalog` с нужными шапками/шаблонами:

* `api.yaml` - для описания эндпоинтов
* `models.yaml` - для описания моделей к ним

## Как посмотреть спецификацию

1. Скачать `Visual Studio Code`
2. Установить для него расширение `Swagger Viewer`
3. Запустить его, предварительно внимательно прочитав его описание. По-дефолту должно стоять следующее поведение:
    * открыть нужный `api.yaml` файл
    * нажать `Shift + Alt + P`
4. Справа должно отобразиться UI-отображение спецификации